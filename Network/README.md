# Network 에상 문제

> 면접에서 나올법한 질문들

* 브라우저에 naver.com 했을때 생기는 일
  > - URL 을 가지고 브라우저에서 크게 2일이 일어나는데요, 일단 HTTP Request 메시지를 형성을하고요 . Get/Post, 그 메시지를 보낼 주소, 즉 ip 주소를 DNS를 통해서 얻습니다.
	> - DNS 에서는 각종 캐시에서(브라우저의 캐시, OS의 캐시. 라우터의 캐시, ISP캐시) IP 주소를 찾는데요, IP주소가 없으면 쿼리를 DNS서버에 보내서 IP주소를 가져옵니다.
	> - 그다음에는 TCP 3way handshake 으로 Request를 받을 서버와 송신 약속을 형성합니다.
	> - 그다음에 HTTP Request를 웹서버에 보냅니다. 
	> - HTTP Response 와 함께 JSON, XML, HTML 같은 형식으로 데이터가 옵니다
	> - 그럼 브라우저는 Response에 맞게 에러를 표시한다던지, 성공적인 수신이었으면 데이터를 유저에게 표시합니다.
	> - Four way handshake 으로 연결 해제
* Http vs https
  > - 가장 큰 차이점은 http는 보안이 취약하다는 점이고요, https는 안전합니다. HTTP + SSL = HTTPS
	> - 즉 http는 encryption이 없는 반면에 https는 encryption이 있다는 점에서 다릅니다
	> - http는 애플리케이션 레이어에서 작용을하고
	> - https는 전송계층에서 작용을 합니다.
	> - http 는 TCP와 직접 통신. HTTPS는 TCP 사이에 SSL을 거친다
* OSI 계층
  > 통신 접속에서 완료까지의 과정을 7단계로 나눈 국제통신 표준.
  > - 1계층 (물리계층) (Physical Layer): 데이터를 전송하는 계층
	> - 2계층 (Data Link Layer): 전송한 데이터를 관리하고 안전하게 전달되도록 도와주는 역할
	> - 3계층 (Network Layer): 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 역할 
	> - 4계층 (Transport Layer): TCP/UDP 가 이루어지는 계층으로 포트를 열고 전송이 가능하게 해주는 계층
  > - 5계층 (Session Layer): 데이터가 통신하기 위한 논리적 계층. TCP/IP 만들고 없애는 역할
	> - 6계층 (Presentation Layer): 데이터 표현에 대한 독립성을 제공하는 계층
	> - 7계층 (Application Layer): 사용자가 보는 인터페이스를 담당하는 계층
* 쿠키와 세션의 차이점
  > - 공통점: 둘다 웹 통신을 하면서 유지를 해야되는 데이터를 저장하는 방식
	> - 차이점: 차이점은 저장 위치
			> - 쿠키는 PC에 저장
			> - 세션은 접속중인 웹 서버에 저장
* TCP 3way handshake
  > - 서버와 클라이언트 사이의 연결을 성립하기 위해 서버와 클라이언트 사이에서 맺는 약속입니다.
	> 1. 클라이언트가 서버에 접속을 요청하는 SYN 패킷을 보냅니다
	>  2. 그럼 서버는 그거에 대한 승낙을 의미하는 ACK패킷과 그거에 대한 답을 요구하는 SYN을 보냅니다
	>  3. 그럼 클라이언트는 그걸 받아서 마지막으로 ACK 패킷을 하나 보내면서 TCP 3way handshake이 마무리 됩니다
* TCP 4way handshake
> - TCP 통신이 끝났으면 연결을 해제하는 방식.
	> 1. 클라이언트는 서버에게 연결 종료를 의미하는 FIN 플래그를 보낸다
	> 2. 서버는 FIN을 받고 확인했다는 의미로 ACK를 보낸다 (여기서 데이터 확인을 위해 CLOSE_WAIT 상태가 된다)
	> 3. 데이터를 모두 보냈다면 서버가 클라이언트에게 FIN을 보낸다
	> 4. 클라이언트는 확인의 의미로 ACK를 서버에게 보낸다. ( TIME_WAIT로 서버 기다린다)
		> - 서버는 ACK를 받고 소켓을 닫는다
		> - TIME_WAIT이 끝나면 클라이언트도 닫는다.
* TCP 란?
	> - TCP (Transmission Control Protocol)의 가장 큰 특징은, 두개의 시스템 사이의 Connection의 안정성이 상당히 중요시 된다는 점입니다. 그래서 기본적으로 Data의 전송이 보장이 되고요, 유실된 데이터에 대해서도 TCP는 무조건 책임을 지고 처리를 합니다.
	> - 그렇기 때문에 3way handshake 같은 안정성을 보장하는 프로토콜도 있는겁니다. 
	> - 이런 식으로 TCP 는 안정성이 가장 큰 장점이기 때문에, 대표적으로 Web이나 이메일 에 쓰이는 것입니다. 데이터가 다 오거나 안오거나
* UDP 란?
  > - 반면에 UDP 같은 경우에는 완벽한 데이터 전송이 보장되지 않습니다.
	> - TCP 처럼 동의가 없이 그냥 일방적으로 데이터를 보냅니다.
	> - 그러다보니까 중간에 데이터가 유실 되는 경우가 생길 수 있습니다.
	> - 대신에 handshake도 없고 데이터의 안정성을 보장 하지 않아도 되기 때문에 overhead가 적습니다. 그래서 UDP 는 TCP 에 비해서 속도가 빠르다는 장점을 갖고있습니다.
	> - 그래서 데이터의 완전한 전송 보다 속도가 더 중요시되는 인터넷 전화나 미디어 스트리밍 같은 경우에 UDP가 사용됩니다.
* TCP 와 UDP의 차이점은?
> - TCP 와 UDP 둘다 데이터를 주고받기 위한 프로토콜
> - UDP 는 비연결형 프로토콜로 흐름제어, 오류 제어를 안하는 반면에, 
>	- TCP는 연결형 프로토콜로 흐름제어, 오류제어를 하는걸로 알고있습니다
>	- TCP는 오류에 대해 민감한 반면에 UDP는 상대방이 받든 안받든 그냥 보내는 식입니다. 
